{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{\"30\":function(t,e,r){\"use strict\";r.r(e),r.d(e,\"default\",function(){return h});var n=r(0),a=r(7),o=r(1),s=r(439),i=r(98),c=(r(344),r(92),r(78)),l=r(79),u=r(231),m=r(232),d=r.n(m),f=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var h=function(t){function orderlist(t){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,orderlist);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,(orderlist.__proto__||Object.getPrototypeOf(orderlist)).call(this,t));return e.getSelectTab=function(t){e.setState({\"tabIn\":t}),0==t?(e.getAmount(),e.setState({\"visiCount\":!0,\"visiOrder\":!1,\"userList\":[]})):(e.getAmountOrder(),e.setState({\"visiCount\":!1,\"visiOrder\":!0,\"userListOrder\":[]}))},e.config={\"navigationBarTitleText\":\"订单排行\",\"onReachBottomDistance\":100},e.state={\"tabList\":[\"总金额\",\"订单数量\"],\"tabIn\":0,\"current\":1,\"currentOrder\":1,\"pages\":1,\"pagesOrder\":1,\"userList\":[],\"userListOrder\":[],\"visiCount\":!0,\"visiOrder\":!1},e}return function _inherits(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{\"constructor\":{\"value\":t,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(orderlist,o[\"a\"].Component),f(orderlist,[{\"key\":\"componentWillMount\",\"value\":function componentWillMount(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){this.getAmount(1),this._offReachBottom=Object(a.a)({\"callback\":this.onReachBottom,\"ctx\":this,\"onReachBottomDistance\":100})}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){this._offReachBottom&&this._offReachBottom()}},{\"key\":\"onReachBottom\",\"value\":function onReachBottom(){0===this.state.tabIn?this.state.current!==this.state.pages&&0!==this.state.pages&&this.getAmount(this.state.current+1):this.state.currentOrder!==this.state.pagesOrder&&0!==this.state.pagesOrder&&this.getAmountOrder(this.state.currentOrder+1)}},{\"key\":\"getAmount\",\"value\":function getAmount(t){var e=this;Object(c.a)(l.a.teamDetailSelectTeamListByAmount,{\"current\":t,\"len\":6}).then(function(t){console.log(1,t.data.data),e.setState({\"userList\":[].concat(_toConsumableArray(e.state.userList),_toConsumableArray(t.data.data.records)),\"current\":t.data.data.current,\"pages\":t.data.data.pages},function(){return console.log(e.state.userList)})}).catch(function(t){})}},{\"key\":\"getAmountOrder\",\"value\":function getAmountOrder(t){var e=this;Object(c.a)(l.a.teamDetailSelectTeamListOrderNum,{\"current\":t,\"len\":6}).then(function(t){e.setState({\"userListOrder\":[].concat(_toConsumableArray(e.state.userListOrder),_toConsumableArray(t.data.data.records)),\"currentOrder\":t.data.data.current,\"pagesOrder\":t.data.data.pages})}).catch(function(t){})}},{\"key\":\"render\",\"value\":function render(){var t=this,e=this.state,r=e.tabList,a=e.tabIn,o=e.userList,c=e.userListOrder,l=e.visiCount,m=e.visiOrder,f=e.current,h=e.currentOrder,p=e.pages,b=e.pagesOrder;return n.l.createElement(s.a,{\"className\":\"h5-orderlist\"},n.l.createElement(\"view\",{\"className\":\"orderlist-btn\"},r.map(function(e,r){return n.l.createElement(\"button\",{\"onClick\":t.getSelectTab.bind(t,r),\"className\":a==r?\"orderlist-btn-totalprice\":\"orderlist-btn-ordernum\"},e)})),n.l.createElement(\"view\",{\"className\":\"orderlist-userinformation count\",\"style\":{\"display\":!0===l?\"\":\"none\"}},n.l.createElement(u.a,{\"userList\":o}),f==p?n.l.createElement(s.a,{\"className\":\"no-more\"},\"-没有更多啦-\"):\"\",0==p?n.l.createElement(s.a,{\"className\":\"withoutContent\"},n.l.createElement(s.a,{\"className\":\"withoutContent-img\"},n.l.createElement(\"img\",{\"src\":d.a,\"alt\":\"\"})),n.l.createElement(i.a,{\"className\":\"withoutContent-text\"},\"该页面暂无内容\")):\"\"),n.l.createElement(\"view\",{\"className\":\"orderlist-userinformation order\",\"style\":{\"display\":!0===m?\"\":\"none\"}},n.l.createElement(u.a,{\"userList\":c}),h==b?n.l.createElement(s.a,{\"className\":\"no-more\"},\"-没有更多啦-\"):\"\",0==p?n.l.createElement(s.a,{\"className\":\"withoutContent\"},n.l.createElement(s.a,{\"className\":\"withoutContent-img\"},n.l.createElement(\"img\",{\"src\":d.a,\"alt\":\"\"})),n.l.createElement(i.a,{\"className\":\"withoutContent-text\"},\"该页面暂无内容\")):\"\"))}}]),orderlist}()},\"344\":function(t,e,r){}}]);","extractedComments":[]}